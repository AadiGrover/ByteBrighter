{"ast":null,"code":"var _jsxFileName = \"/Users/lecher/Desktop/ByteBrighter/frontend/src/components/core/ViewCourse/VideoDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport \"video-react/dist/video-react.css\";\nimport { useLocation } from \"react-router-dom\";\nimport { BigPlayButton, Player } from \"video-react\";\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\";\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\";\nimport IconBtn from \"../../common/IconBtn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoDetails = () => {\n  _s();\n  const {\n    courseId,\n    sectionId,\n    subSectionId\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const playerRef = useRef(null);\n  const dispatch = useDispatch();\n  const {\n    token\n  } = useSelector(state => state.auth);\n  const {\n    courseSectionData,\n    courseEntireData,\n    completedLectures\n  } = useSelector(state => state.viewCourse);\n  const [videoData, setVideoData] = useState([]);\n  const [previewSource, setPreviewSource] = useState(\"\");\n  const [videoEnded, setVideoEnded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    (async () => {\n      if (!courseSectionData.length) return;\n      if (!courseId && !sectionId && !subSectionId) {\n        navigate(`/dashboard/enrolled-courses`);\n      } else {\n        var _filteredData$;\n        // console.log(\"courseSectionData\", courseSectionData)\n        const filteredData = courseSectionData.filter(course => course._id === sectionId);\n        // console.log(\"filteredData\", filteredData)\n        const filteredVideoData = filteredData === null || filteredData === void 0 ? void 0 : (_filteredData$ = filteredData[0]) === null || _filteredData$ === void 0 ? void 0 : _filteredData$.subSection.filter(data => data._id === subSectionId);\n        // console.log(\"filteredVideoData\", filteredVideoData)\n        setVideoData(filteredVideoData[0]);\n        setPreviewSource(courseEntireData.thumbnail);\n        setVideoEnded(false);\n      }\n    })();\n  }, [courseSectionData, courseEntireData, location.pathname]);\n\n  // check if the lecture is the first video of the course\n  const isFirstVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  // go to the next video\n  const goToNextVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const noOfSubsections = courseSectionData[currentSectionIndx].subSection.length;\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n\n    // console.log(\"no of subsections\", noOfSubsections)\n\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\n      const nextSubSectionId = courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx + 1]._id;\n      navigate(`/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`);\n    } else {\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id;\n      const nextSubSectionId = courseSectionData[currentSectionIndx + 1].subSection[0]._id;\n      navigate(`/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`);\n    }\n  };\n\n  // check if the lecture is the last video of the course\n  const isLastVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const noOfSubsections = courseSectionData[currentSectionIndx].subSection.length;\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSectionIndx === courseSectionData.length - 1 && currentSubSectionIndx === noOfSubsections - 1) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  // go to the previous video\n  const goToPrevVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSubSectionIndx !== 0) {\n      const prevSubSectionId = courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx - 1]._id;\n      navigate(`/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`);\n    } else {\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id;\n      const prevSubSectionLength = courseSectionData[currentSectionIndx - 1].subSection.length;\n      const prevSubSectionId = courseSectionData[currentSectionIndx - 1].subSection[prevSubSectionLength - 1]._id;\n      navigate(`/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`);\n    }\n  };\n  const handleLectureCompletion = async () => {\n    setLoading(true);\n    const res = await markLectureAsComplete({\n      courseId: courseId,\n      subsectionId: subSectionId\n    }, token);\n    if (res) {\n      dispatch(updateCompletedLectures(subSectionId));\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-5 text-white\",\n    children: !videoData ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: previewSource,\n      alt: \"Preview\",\n      className: \"h-full w-full rounded-md object-cover\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Player, {\n      ref: playerRef,\n      aspectRatio: \"16:9\",\n      playsInline: true,\n      onEnded: () => setVideoEnded(true),\n      src: videoData === null || videoData === void 0 ? void 0 : videoData.videoUrl,\n      children: [/*#__PURE__*/_jsxDEV(BigPlayButton, {\n        position: \"center\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), videoEnded && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundImage: \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\"\n        },\n        className: \"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\",\n        children: [!completedLectures.includes(subSectionId) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mx-auto bg-yellow-100 text-richblack-900 px-3 py-2 rounded-md text-xl mb-6\",\n          onClick: () => handleLectureCompletion(),\n          children: !loading ? \"Mark As Completed\" : \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (playerRef !== null && playerRef !== void 0 && playerRef.current) {\n              var _playerRef$current;\n              // set the current time of the video to 0\n              playerRef === null || playerRef === void 0 ? void 0 : (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : _playerRef$current.seek(0);\n              setVideoEnded(false);\n            }\n          },\n          className: \"text-xl rounded-md text-richblack-900 mx-auto w-fit px-3 py-2 bg-yellow-100\",\n          children: \"Rewatch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\",\n          children: [!isFirstVideo() && /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: loading,\n            onClick: goToPrevVideo,\n            className: \"blackButton bg-yellow-100 px-2 py-0 rounded-md text-richblack-900\",\n            children: \"Prev\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 19\n          }, this), !isLastVideo() && /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: loading,\n            onClick: goToNextVideo,\n            className: \"blackButton bg-yellow-100 px-3 py-2 rounded-md text-richblack-900\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoDetails, \"9OTfZ0uJS72j6NJEmBGnZ5PDWAY=\", false, function () {\n  return [useParams, useNavigate, useLocation, useDispatch, useSelector, useSelector];\n});\n_c = VideoDetails;\nexport default VideoDetails;\n// video\nvar _c;\n$RefreshReg$(_c, \"VideoDetails\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","useNavigate","useParams","useLocation","BigPlayButton","Player","markLectureAsComplete","updateCompletedLectures","IconBtn","jsxDEV","_jsxDEV","VideoDetails","_s","courseId","sectionId","subSectionId","navigate","location","playerRef","dispatch","token","state","auth","courseSectionData","courseEntireData","completedLectures","viewCourse","videoData","setVideoData","previewSource","setPreviewSource","videoEnded","setVideoEnded","loading","setLoading","length","_filteredData$","filteredData","filter","course","_id","filteredVideoData","subSection","data","thumbnail","pathname","isFirstVideo","currentSectionIndx","findIndex","currentSubSectionIndx","goToNextVideo","noOfSubsections","nextSubSectionId","nextSectionId","isLastVideo","goToPrevVideo","prevSubSectionId","prevSectionId","prevSubSectionLength","handleLectureCompletion","res","subsectionId","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","ref","aspectRatio","playsInline","onEnded","videoUrl","position","style","backgroundImage","includes","onClick","current","_playerRef$current","seek","disabled","_c","$RefreshReg$"],"sources":["/Users/lecher/Desktop/ByteBrighter/frontend/src/components/core/ViewCourse/VideoDetails.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nimport \"video-react/dist/video-react.css\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { BigPlayButton, Player } from \"video-react\";\r\n\r\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\";\r\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\";\r\nimport IconBtn from \"../../common/IconBtn\";\r\n\r\nconst VideoDetails = () => {\r\n  const { courseId, sectionId, subSectionId } = useParams();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const playerRef = useRef(null);\r\n  const dispatch = useDispatch();\r\n  const { token } = useSelector((state) => state.auth);\r\n  const { courseSectionData, courseEntireData, completedLectures } =\r\n    useSelector((state) => state.viewCourse);\r\n\r\n  const [videoData, setVideoData] = useState([]);\r\n  const [previewSource, setPreviewSource] = useState(\"\");\r\n  const [videoEnded, setVideoEnded] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!courseSectionData.length) return;\r\n      if (!courseId && !sectionId && !subSectionId) {\r\n        navigate(`/dashboard/enrolled-courses`);\r\n      } else {\r\n        // console.log(\"courseSectionData\", courseSectionData)\r\n        const filteredData = courseSectionData.filter(\r\n          (course) => course._id === sectionId\r\n        );\r\n        // console.log(\"filteredData\", filteredData)\r\n        const filteredVideoData = filteredData?.[0]?.subSection.filter(\r\n          (data) => data._id === subSectionId\r\n        );\r\n        // console.log(\"filteredVideoData\", filteredVideoData)\r\n        setVideoData(filteredVideoData[0]);\r\n        setPreviewSource(courseEntireData.thumbnail);\r\n        setVideoEnded(false);\r\n      }\r\n    })();\r\n  }, [courseSectionData, courseEntireData, location.pathname]);\r\n\r\n  // check if the lecture is the first video of the course\r\n  const isFirstVideo = () => {\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    );\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId);\r\n\r\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // go to the next video\r\n  const goToNextVideo = () => {\r\n    // console.log(courseSectionData)\r\n\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    );\r\n\r\n    const noOfSubsections =\r\n      courseSectionData[currentSectionIndx].subSection.length;\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId);\r\n\r\n    // console.log(\"no of subsections\", noOfSubsections)\r\n\r\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\r\n      const nextSubSectionId =\r\n        courseSectionData[currentSectionIndx].subSection[\r\n          currentSubSectionIndx + 1\r\n        ]._id;\r\n      navigate(\r\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`\r\n      );\r\n    } else {\r\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id;\r\n      const nextSubSectionId =\r\n        courseSectionData[currentSectionIndx + 1].subSection[0]._id;\r\n      navigate(\r\n        `/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`\r\n      );\r\n    }\r\n  };\r\n\r\n  // check if the lecture is the last video of the course\r\n  const isLastVideo = () => {\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    );\r\n\r\n    const noOfSubsections =\r\n      courseSectionData[currentSectionIndx].subSection.length;\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId);\r\n\r\n    if (\r\n      currentSectionIndx === courseSectionData.length - 1 &&\r\n      currentSubSectionIndx === noOfSubsections - 1\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // go to the previous video\r\n  const goToPrevVideo = () => {\r\n    // console.log(courseSectionData)\r\n\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    );\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId);\r\n\r\n    if (currentSubSectionIndx !== 0) {\r\n      const prevSubSectionId =\r\n        courseSectionData[currentSectionIndx].subSection[\r\n          currentSubSectionIndx - 1\r\n        ]._id;\r\n      navigate(\r\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`\r\n      );\r\n    } else {\r\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id;\r\n      const prevSubSectionLength =\r\n        courseSectionData[currentSectionIndx - 1].subSection.length;\r\n      const prevSubSectionId =\r\n        courseSectionData[currentSectionIndx - 1].subSection[\r\n          prevSubSectionLength - 1\r\n        ]._id;\r\n      navigate(\r\n        `/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleLectureCompletion = async () => {\r\n    setLoading(true);\r\n    const res = await markLectureAsComplete(\r\n      { courseId: courseId, subsectionId: subSectionId },\r\n      token\r\n    );\r\n    if (res) {\r\n      dispatch(updateCompletedLectures(subSectionId));\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-5 text-white\">\r\n      {!videoData ? (\r\n        <img\r\n          src={previewSource}\r\n          alt=\"Preview\"\r\n          className=\"h-full w-full rounded-md object-cover\"\r\n        />\r\n      ) : (\r\n        <Player\r\n          ref={playerRef}\r\n          aspectRatio=\"16:9\"\r\n          playsInline\r\n          onEnded={() => setVideoEnded(true)}\r\n          src={videoData?.videoUrl}\r\n        >\r\n          <BigPlayButton position=\"center\" />\r\n          {/* Render When Video Ends */}\r\n          {videoEnded && (\r\n            <div\r\n              style={{\r\n                backgroundImage:\r\n                  \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\",\r\n              }}\r\n              className=\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\"\r\n            >\r\n              {/* {!completedLectures.includes(subSectionId) && (\r\n                <IconBtn\r\n                  disabled={loading}\r\n                  onclick={() => handleLectureCompletion()}\r\n                  text={!loading ? \"Mark As Completed\" : \"Loading...\"}\r\n                  customClasses=\"text-xl max-w-max px-4 mx-auto\"\r\n                />\r\n              )} */}\r\n\r\n              {!completedLectures.includes(subSectionId) && (\r\n                <button\r\n                  className=\"mx-auto bg-yellow-100 text-richblack-900 px-3 py-2 rounded-md text-xl mb-6\"\r\n                  onClick={() => handleLectureCompletion()}\r\n                >\r\n                  {!loading ? \"Mark As Completed\" : \"Loading...\"}\r\n                </button>\r\n              )}\r\n\r\n              {/* <IconBtn\r\n                disabled={loading}\r\n                onclick={() => {\r\n                  if (playerRef?.current) {\r\n                    // set the current time of the video to 0\r\n                    playerRef?.current?.seek(0)\r\n                    setVideoEnded(false)\r\n                  }\r\n                }}\r\n                text=\"Rewatch\"\r\n                customClasses=\"text-xl max-w-max px-4 mx-auto mt-2\"\r\n              /> */}\r\n              <button\r\n                onClick={() => {\r\n                  if (playerRef?.current) {\r\n                    // set the current time of the video to 0\r\n                    playerRef?.current?.seek(0);\r\n                    setVideoEnded(false);\r\n                  }\r\n                }}\r\n                className=\"text-xl rounded-md text-richblack-900 mx-auto w-fit px-3 py-2 bg-yellow-100\"\r\n              >\r\n                Rewatch\r\n              </button>\r\n              <div className=\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\">\r\n                {!isFirstVideo() && (\r\n                  <button\r\n                    disabled={loading}\r\n                    onClick={goToPrevVideo}\r\n                    className=\"blackButton bg-yellow-100 px-2 py-0 rounded-md text-richblack-900\"\r\n                  >\r\n                    Prev\r\n                  </button>\r\n                )}\r\n                {!isLastVideo() && (\r\n                  <button\r\n                    disabled={loading}\r\n                    onClick={goToNextVideo}\r\n                    className=\"blackButton bg-yellow-100 px-3 py-2 rounded-md text-richblack-900\"\r\n                  >\r\n                    Next\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Player>\r\n      )}\r\n\r\n      {/* <h1 className=\"mt-4 text-3xl font-semibold\">{videoData?.title}</h1>\r\n      <p className=\"pt-2 pb-6\">{videoData?.description}</p> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoDetails;\r\n// video\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}