{"ast":null,"code":"var _jsxFileName = \"/Users/lecher/Desktop/ByteBrighter/frontend/src/components/core/ViewCourse/CourseReviewModal.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { RxCross2 } from \"react-icons/rx\";\nimport ReactStars from \"react-rating-stars-component\";\nimport { useSelector } from \"react-redux\";\nimport { createRating } from \"../../../services/operations/courseDetailsAPI\";\nimport IconBtn from \"../../common/IconBtn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CourseReviewModal(_ref) {\n  _s();\n  let {\n    setReviewModal\n  } = _ref;\n  const {\n    user\n  } = useSelector(state => state.profile);\n  const {\n    token\n  } = useSelector(state => state.auth);\n  const {\n    courseEntireData\n  } = useSelector(state => state.viewCourse);\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    }\n  } = useForm();\n  useEffect(() => {\n    setValue(\"courseExperience\", \"\");\n    setValue(\"courseRating\", 0);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const ratingChanged = newRating => {\n    // console.log(newRating)\n    setValue(\"courseRating\", newRating);\n  };\n  const onSubmit = async data => {\n    await createRating({\n      courseId: courseEntireData._id,\n      rating: data.courseRating,\n      review: data.courseExperience\n    }, token);\n    setReviewModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-[1000] !mt-0 grid h-screen w-screen place-items-center overflow-auto bg-white bg-opacity-10 backdrop-blur-sm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-10 w-11/12 max-w-[700px] rounded-lg border border-richblack-400 bg-richblack-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between rounded-t-lg bg-richblack-700 p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-semibold text-richblack-5\",\n          children: \"Add Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setReviewModal(false),\n          children: /*#__PURE__*/_jsxDEV(RxCross2, {\n            className: \"text-2xl text-richblack-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center gap-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user === null || user === void 0 ? void 0 : user.image,\n            alt: (user === null || user === void 0 ? void 0 : user.firstName) + \"profile\",\n            className: \"aspect-square w-[50px] rounded-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-richblack-5\",\n              children: [user === null || user === void 0 ? void 0 : user.firstName, \" \", user === null || user === void 0 ? void 0 : user.lastName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-richblack-5\",\n              children: \"Posting Publicly\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          className: \"mt-6 flex flex-col items-center\",\n          children: [/*#__PURE__*/_jsxDEV(ReactStars, {\n            count: 5,\n            onChange: ratingChanged,\n            size: 24,\n            activeColor: \"#ffd700\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex w-11/12 flex-col space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm text-richblack-5\",\n              htmlFor: \"courseExperience\",\n              children: [\"Add Your Experience \", /*#__PURE__*/_jsxDEV(\"sup\", {\n                className: \"text-pink-200\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"courseExperience\",\n              placeholder: \"Add Your Experience\",\n              ...register(\"courseExperience\", {\n                required: true\n              }),\n              className: \"form-style text-richblack-100 bg-richblack-700 rounded-md px-2 py-2 resize-x-none min-h-[130px] w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), errors.courseExperience && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-xs tracking-wide text-pink-200\",\n              children: \"Please Add Your Experience\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex w-11/12 justify-end gap-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setReviewModal(false),\n              className: `flex cursor-pointer items-center gap-x-2 rounded-md bg-richblack-300 py-[8px] px-[20px] font-semibold text-richblack-900`,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-yellow-50 rounded-md px-4 py-1 font-semibold\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(CourseReviewModal, \"k801ayihgDkx86heoCxTGnTeN2U=\", false, function () {\n  return [useSelector, useSelector, useSelector, useForm];\n});\n_c = CourseReviewModal;\nvar _c;\n$RefreshReg$(_c, \"CourseReviewModal\");","map":{"version":3,"names":["useEffect","useForm","RxCross2","ReactStars","useSelector","createRating","IconBtn","jsxDEV","_jsxDEV","CourseReviewModal","_ref","_s","setReviewModal","user","state","profile","token","auth","courseEntireData","viewCourse","register","handleSubmit","setValue","formState","errors","ratingChanged","newRating","onSubmit","data","courseId","_id","rating","courseRating","review","courseExperience","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","image","alt","firstName","lastName","count","onChange","size","activeColor","htmlFor","id","placeholder","required","_c","$RefreshReg$"],"sources":["/Users/lecher/Desktop/ByteBrighter/frontend/src/components/core/ViewCourse/CourseReviewModal.jsx"],"sourcesContent":["import { useEffect } from \"react\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { RxCross2 } from \"react-icons/rx\"\r\nimport ReactStars from \"react-rating-stars-component\"\r\nimport { useSelector } from \"react-redux\"\r\n\r\nimport { createRating } from \"../../../services/operations/courseDetailsAPI\"\r\nimport IconBtn from \"../../common/IconBtn\"\r\n\r\nexport default function CourseReviewModal({ setReviewModal }) {\r\n  const { user } = useSelector((state) => state.profile)\r\n  const { token } = useSelector((state) => state.auth)\r\n  const { courseEntireData } = useSelector((state) => state.viewCourse)\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useForm()\r\n\r\n  useEffect(() => {\r\n    setValue(\"courseExperience\", \"\")\r\n    setValue(\"courseRating\", 0)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const ratingChanged = (newRating) => {\r\n    // console.log(newRating)\r\n    setValue(\"courseRating\", newRating)\r\n  }\r\n\r\n  const onSubmit = async (data) => {\r\n    await createRating(\r\n      {\r\n        courseId: courseEntireData._id,\r\n        rating: data.courseRating,\r\n        review: data.courseExperience,\r\n      },\r\n      token\r\n    )\r\n    setReviewModal(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[1000] !mt-0 grid h-screen w-screen place-items-center overflow-auto bg-white bg-opacity-10 backdrop-blur-sm\">\r\n      <div className=\"my-10 w-11/12 max-w-[700px] rounded-lg border border-richblack-400 bg-richblack-800\">\r\n        {/* Modal Header */}\r\n        <div className=\"flex items-center justify-between rounded-t-lg bg-richblack-700 p-5\">\r\n          <p className=\"text-xl font-semibold text-richblack-5\">Add Review</p>\r\n          <button onClick={() => setReviewModal(false)}>\r\n            <RxCross2 className=\"text-2xl text-richblack-5\" />\r\n          </button>\r\n        </div>\r\n        {/* Modal Body */}\r\n        <div className=\"p-6\">\r\n          <div className=\"flex items-center justify-center gap-x-4\">\r\n            <img\r\n              src={user?.image}\r\n              alt={user?.firstName + \"profile\"}\r\n              className=\"aspect-square w-[50px] rounded-full object-cover\"\r\n            />\r\n            <div className=\"\">\r\n              <p className=\"font-semibold text-richblack-5\">\r\n                {user?.firstName} {user?.lastName}\r\n              </p>\r\n              <p className=\"text-sm text-richblack-5\">Posting Publicly</p>\r\n            </div>\r\n          </div>\r\n          <form\r\n            onSubmit={handleSubmit(onSubmit)}\r\n            className=\"mt-6 flex flex-col items-center\"\r\n          >\r\n            <ReactStars\r\n              count={5}\r\n              onChange={ratingChanged}\r\n              size={24}\r\n              activeColor=\"#ffd700\"\r\n            />\r\n            <div className=\"flex w-11/12 flex-col space-y-2\">\r\n              <label\r\n                className=\"text-sm text-richblack-5\"\r\n                htmlFor=\"courseExperience\"\r\n              >\r\n                Add Your Experience <sup className=\"text-pink-200\">*</sup>\r\n              </label>\r\n              <textarea\r\n                id=\"courseExperience\"\r\n                placeholder=\"Add Your Experience\"\r\n                {...register(\"courseExperience\", { required: true })}\r\n                className=\"form-style text-richblack-100 bg-richblack-700 rounded-md px-2 py-2 resize-x-none min-h-[130px] w-full\"\r\n              />\r\n              {errors.courseExperience && (\r\n                <span className=\"ml-2 text-xs tracking-wide text-pink-200\">\r\n                  Please Add Your Experience\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"mt-6 flex w-11/12 justify-end gap-x-2\">\r\n              <button\r\n                onClick={() => setReviewModal(false)}\r\n                className={`flex cursor-pointer items-center gap-x-2 rounded-md bg-richblack-300 py-[8px] px-[20px] font-semibold text-richblack-900`}\r\n              >\r\n                Cancel\r\n              </button>\r\n               <button className=\"bg-yellow-50 rounded-md px-4 py-1 font-semibold\">\r\n                Save\r\n               </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}